"use strict";function processAllCrypto(){var e=document.querySelector("#currency");if(e){console.info("Inputfield correct!");var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);document.querySelector(".result");result_data=e.Data,base_url=e.BaseImageUrl,SetSideBar(e.Data)}},t.open("GET","https://min-api.cryptocompare.com/data/all/coinlist"),t.send(),e.addEventListener("input",function(e){CheckNameInArray(e.target.value)})}else console.error("Inputfield not found!")}function CompareCurrency(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){compared_data=JSON.parse(this.responseText);document.querySelector(".coin-container").classList.add("active");var e=document.querySelector(".slider");for(var t in compared_data)e.classList.contains("class_clicked")?(document.querySelector(".result-compared").innerHTML="€ "+compared_data[t].EUR,console.log("€ "+compared_data[t].EUR)):(document.querySelector(".result-compared").innerHTML="$ "+compared_data[t].USD+" USD",console.log("$ "+compared_data[t].USD+" USD"))}};var t="https://min-api.cryptocompare.com/data/pricemulti?fsyms="+compare_coin+"&tsyms=USD,EUR";e.open("GET",t),e.send()}function toggleSidebar(){$(".button").toggleClass("active"),$(".button").toggleClass("move-to-left"),$(".sidebar").toggleClass("opened"),$(".sidebar-item").toggleClass("active"),$(".sidebar-search").toggleClass("active")}function buildArrayFromResult(e){for(var t in e)array.push(e[t].FullName)}function buildPopularArray(e){var t=[];for(var r in e)e[r].SortOrder<=130&&t.push(e[r].FullName);return console.log(t),t}function CheckNameInArray(e){var t,r,a,o;for(t=e.toUpperCase(),console.log(t),r=document.querySelector(".sidebar-list").getElementsByTagName("li"),o=0;o<r.length;o++)a=r[o].getElementsByTagName("a")[0],console.log(a.innerHTML.toUpperCase()),a.innerHTML.toUpperCase().indexOf(t)>-1?r[o].style.display="":r[o].style.display="none"}function MakeListItems(e){for(var t=0;t<e.length;t++){var r=e[t],a=document.createElement("li");a.classList.add("sidebar-item");var o=document.createElement("a");o.classList.add("sidebar-anchor"),o.innerHTML=r,a.appendChild(o);document.querySelector("ul.sidebar-list").appendChild(a)}toggleSidebar()}function SetSideBar(e){buildArrayFromResult(e);MakeListItems(buildPopularArray(e))}var result_data,base_url,compared_data,compare_coin,array=[];document.addEventListener("DOMContentLoaded",function(){document.querySelector(".sidebar-list").addEventListener("click",function(e){document.querySelector(".choose-curr").classList.add("hide");for(var t in result_data)if(result_data[t].FullName==e.target.innerHTML){console.log(result_data[t].FullName+" = "+e.target.innerHTML),document.querySelector(".result-title").innerHTML=result_data[t].FullName;var r=result_data[t].ImageUrl,a=base_url+r;console.log(a),document.querySelector(".result-image").src=a,document.querySelector(".result-compare").innerHTML='1 "'+result_data[t].CoinName+'" : ',compare_coin=result_data[t].Name,CompareCurrency(),toggleSidebar()}console.log(e.target.innerHTML)})}),$(document).ready(function(){$(".button").on("click tap",function(){toggleSidebar()}),processAllCrypto(),$(document).keyup(function(e){27===e.keyCode&&toggleSidebar()})});var switch_element=document.querySelector(".slider");switch_element.addEventListener("click",function(){if(switch_element.classList.contains("class_clicked")){switch_element.classList.remove("class_clicked");for(var e in compared_data)document.querySelector(".result-compared").innerHTML="$ "+compared_data[e].USD+" USD"}else{switch_element.classList.add("class_clicked");for(var e in compared_data)document.querySelector(".result-compared").innerHTML="€ "+compared_data[e].EUR}});var refresh=document.querySelector(".fa.fa-refresh");refresh.addEventListener("click",function(){refresh.classList.add("fa-spin"),CompareCurrency(),setTimeout(function(){refresh.classList.remove("fa-spin")},2e3)});